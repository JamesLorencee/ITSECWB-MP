<app-main-template>
  <div class="flex w-full justify-between">
    <h1 class="text-2xl font-semibold tex-text">Expense Log</h1>
    <div class="flex gap-4">
      <select
        class="block w-60 py-2 rounded-lg border border-gray-300 bg-gray-50 ps-2 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"
      >
        <option value="" disabled selected>Filter by date</option>
        <option value="1">This day</option>
        <option value="2">This week</option>
        <option value="3">This month</option>
      </select>
      <button class="btn-primary" type="button" (click)="toggleModal(1)">
        <ng-icon name="matPlusOutline" size="1rem" class="text-text"></ng-icon>Add Expense
      </button>
    </div>
  </div>
  <hr class="h-[1px] w-full bg-neutral-100" />
  <div class="relative mb-5 overflow-x-auto border-2 border-solid bg-white border-neutral-100 shadow-md sm:rounded-lg">
    <table class="w-full text-left text-sm text-neutral-800 rtl:text-right">
      <thead class="text-left text-base text-primary border-b-2">
        <tr>
          <th scope="col" class="px-6 py-3">DATE</th>
          <th scope="col" class="px-6 py-3">ITEM</th>
          <th scope="col" class="px-6 py-3">CATEGORY</th>
          <th scope="col" class="px-6 py-3">PRICE</th>
          <th scope="col" class="px-1 py-3 text-center">EDIT</th>
          <th scope="col" class="px-1 py-3 text-center">REMOVE</th>
        </tr>
      </thead>
      <tbody class="bg-white">
        <tr class="border-b text-left">
          <td class="px-6 py-4">07/14/24</td>
          <th scope="row" class="whitespace-nowrap px-6 py-4 text-base font-semibold text-text">Colonel Curry</th>
          <td class="px-6 py-4">Food</td>
          <td class="px-6 py-4">119.00</td>
          <td class="px-2 py-4 text-center">
            <button class="px-2 py-1" type="button">
              <ng-icon name="matEditOutline" size="24px" class="mr-0 text-gray-500 hover:text-gray-900"></ng-icon>
            </button>
          </td>

          <td class="px-2 py-4 text-center">
            <button class="px-2 py-1" type="button">
              <ng-icon
                name="matDoNotDisturbOnOutline"
                size="24px"
                class="mr-0 text-gray-500 hover:text-gray-900"
              ></ng-icon>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
<!-- Add Expense Modal -->
  <app-modal
    *ngIf="idNum === 1"
    [isOpen]="isModalOpen"
    [hasHeader]="true"
    headerName="Add Expense"
  >
  <form [formGroup]="addForm">
    <div class="input-group mb-4">
      <h4 class="text-base font-medium text-neutral-600">
        Date
      </h4>
      <mat-form-field
        class="border-[1px]rounded-md w-50% h-50 rounded border border-gray-300 bg-gray-50 px-3 py-2 text-xs dark:border-neutral-600"
      >
        <mat-label>Choose a date</mat-label>
        <input
          matInput
          [matDatepicker]="picker"
          formControlName="addDate"
        />
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle
          matSuffix
          [for]="picker"
        ></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      <span
        class="text-warning-500 text-[10px] font-medium text-red-600 dark:text-red-500"
        [ngStyle]="{
          display:
            addForm.get('addDate')!.invalid && submitted ? 'block' : 'none'
        }"
        >Please enter a date.</span
      >
    </div>
    <div class="input-group mb-4">
      <h4 class="text-base font-medium text-neutral-600">Item</h4>
      <input
        placeholder="Enter Item Name"
        type="text"
        formControlName="addItem"
        class="border-[1px]rounded-md w-90 rounded border border-gray-300 bg-gray-50 px-3 py-2 text-xs dark:border-neutral-600"
      />
      <span
        class="text-warning-500 text-[10px] font-medium text-red-600 dark:text-red-500"
        [ngStyle]="{
          display:
            addForm.get('addItem')!.invalid && submitted ? 'block' : 'none'
        }"
        >Please input an item.</span
      >
    </div>
    <div class="input-group mb-4">
      <h4 class="text-base font-small text-neutral-600">Category</h4>
      <mat-form-field class="w-auto">
        <mat-label>Category</mat-label>
        <mat-select formControlName="addCategory">
          <mat-option *ngFor="let category of categories" [value]="category">
            {{ category }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="input-group mb-4">
      <h4 class="text-base font-medium text-neutral-600">Price</h4>
      <div class="relative">
        <input
          placeholder="00.00"
          type="number"
          formControlName="addPrice"
          class="price-input border-[1px] rounded-md w-50 rounded border border-gray-300 bg-gray-50 px-3 py-2 pl-12 text-xs dark:border-neutral-600"
          min="0"
          step="0.01"
        />
        <span class="absolute left-3 top-2 text-gray-500">Php</span>
      </div>
      <span
        class="text-warning-500 text-[10px] font-medium text-red-600 dark:text-red-500"
        [ngStyle]="{
          display:
            addForm.get('addPrice')!.invalid && submitted ? 'block' : 'none'
        }"
        >Please input a Price.</span
      >
    </div>
    <hr class="mb-6 mt-2 h-[2px] w-full bg-neutral-300" />
    <button
      class="flex w-50 items-center justify-center gap-3 rounded bg-lime-700 px-6 py-2 hover:bg-lime-600 dark:bg-lime-700 dark:hover:bg-lime-600"
      type="submit"
    >
      <p class="text-xs font-medium text-white">Add</p>
    </button>
  </form>
  </app-modal>
<!-- Add Expense Modal -->
</app-main-template>
